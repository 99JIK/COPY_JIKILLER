# 📑 COPY_JIKILLER - 상세 사용자 가이드

> 프로그래밍 과제를 위한 강력하고 직관적인 표절 검사 프로그램

---

## 목차
1. [주요 기능](#-주요-기능)
2. [상세 사용 가이드](#-상세-사용-가이드)
   - [폴더 선택 및 설정](#1--폴더-선택-및-기본-설정)
   - [분석 모드 및 임계값](#2--분석-모드-및-임계값-설정)
   - [검사 실행 및 중단](#3--검사-실행-및-중단)
   - [결과 확인 및 분석](#4--결과-확인-및-분석)
   - [결과 내보내기 및 설정 저장](#5--결과-내보내기-및-설정-저장)
3. [AST 분석이란?](#-ast-분석이란-what-is-ast)
4. [설치 및 요구사항](#️-설치-및-요구사항)
5. [실행 파일 빌드 및 배포](#-실행-파일-빌드-및-배포)
   - [빌드하기](#1-빌드하기)
   - [배포하기](#2-배포하기)
   - [문제 해결](#3--문제-해결-아이콘이-적용되지-않는-경우)
6. [라이선스](#-라이선스)

---

## ✨ 주요 기능

* **다중 언어 [AST](#-ast-분석이란-what-is-ast) 분석**: **Python, C/C++, Java**에 대한 AST(추상 구문 트리) 분석을 지원하여, 변수명이나 함수명만 변경한 표절을 효과적으로 탐지합니다.
* **Side-by-Side 비교 뷰어**: 검사 결과 목록을 더블클릭하면 두 개의 코드를 나란히 보여주는 비교 창이 열리며, 일치하는 부분이 하이라이트되어 직관적인 비교가 가능합니다.
* **유연한 검사 설정**: 하위 폴더 탐색, 확장자 필터, 유사도 임계값 조절 등 다양한 옵션을 제공합니다.
* **편리한 사용자 인터페이스**: 검사 진행률(%), 남은 예상 시간, 중단 기능을 제공하며, 결과를 CSV 파일로 내보낼 수 있습니다. 시스템 설정에 맞춘 라이트/다크 모드를 모두 지원합니다.

---

## 🚀 상세 사용 가이드

### 1. 📁 폴더 선택 및 기본 설정

> 검사를 시작하기 위한 가장 첫 단계입니다.

* **폴더 선택**: `[폴더 선택]` 버튼을 눌러 검사할 코드 파일들이 담긴 폴더를 지정합니다. 폴더를 선택하면 '검사 시작' 버튼이 활성화되고, 설정 변경이 잠깁니다.
* **하위 폴더 포함**: 이 옵션을 체크하면, 선택한 폴더뿐만 아니라 그 안의 모든 하위 폴더까지 재귀적으로 탐색하여 검사 대상에 포함시킵니다.
* **확장자 필터**: `[확장자 선택]` 드롭다운 메뉴를 통해 검사를 원하는 파일의 확장자를 켜고 끌 수 있습니다. `[➕]` 버튼으로 새 확장자를 추가하거나, `[...]` 버튼으로 추가된 확장자를 관리(삭제)할 수 있습니다.

<!-- GIF 위치: 폴더 선택 및 필터 설정 시연 -->
<!-- ![GIF-Demo-1](../resource/demo_01_setup.gif) -->

### 2. ⚙️ 분석 모드 및 임계값 설정

> 검사의 정확도와 기준을 설정합니다.

* **분석 모드**:
    * **기본 분석 (텍스트)**: 주석과 공백을 제거한 순수 텍스트를 비교합니다. 모든 언어에 적용할 수 있지만, 정확도는 가장 낮습니다.
    * **Python/C++/Java (AST)**: 각 언어에 맞는 AST 분석을 수행합니다. 코드의 구조를 분석하므로, 변수명 등을 바꾼 표절을 가장 정확하게 잡아냅니다. **검사할 코드의 언어에 맞는 모드를 선택하는 것을 강력히 권장합니다.**
* **유사도 임계값**: 슬라이더를 조절하여 결과 목록에 표시될 최소 유사도(%)를 설정합니다. 이 값 이상의 결과를 필터링하여 보여줍니다. (기본값: 70%)

<!-- GIF 위치: 분석 모드 및 임계값 설정 시연 -->
<!-- ![GIF-Demo-2](../resource/demo_02_analysis.gif) -->

### 3. ✔️ 검사 실행 및 중단

> 설정이 완료되면 검사를 시작합니다.

* **검사 시작**: `[✔️ 검사 시작]` 버튼을 누르면 설정이 잠기고 검사가 시작됩니다.
* **진행 상태 확인**: 검사가 시작되면 하단의 상태바에 진행률, 처리한 항목 수, 남은 예상 시간이 실시간으로 표시됩니다. Windows에서는 작업 표시줄에도 진행률이 함께 표시됩니다.
* **중단**: `[❌ 중단]` 버튼을 누르면 언제든지 진행 중인 검사를 즉시 멈출 수 있습니다.

<!-- GIF 위치: 검사 시작 및 중단 시연 -->
<!-- ![GIF-Demo-3](../resource/demo_03_scan.gif) -->

### 4. 📊 결과 확인 및 분석

> 표절이 의심되는 코드를 직관적으로 확인합니다.

* **결과 목록**: 검사가 완료되면, 설정된 임계값을 넘는 파일 쌍들이 유사도가 높은 순서대로 목록에 표시됩니다.
* **비교 뷰어**: 목록의 항목을 **더블클릭**하면, 두 개의 코드를 나란히 보여주는 새로운 비교 창이 열립니다. 두 코드에서 일치하는 부분은 테마에 맞는 강조 색상으로 하이라이트됩니다.

<!-- GIF 위치: 결과 확인 및 비교 뷰어 시연 -->
<!-- ![GIF-Demo-4](../resource/demo_04_results.gif) -->

### 5. 💾 결과 내보내기 및 설정 저장

> 분석 결과를 저장하고, 현재 설정을 보존합니다.

* **결과 내보내기**: `[💾 결과 내보내기]` 버튼을 누르면, 현재 결과 목록에 표시된 모든 내용이 **CSV 파일**로 저장됩니다.
* **설정 자동 저장**: 프로그램을 종료하면 마지막으로 사용한 **테마, 언어, 확장자 필터 목록**이 자동으로 저장되어 다음 실행 시 그대로 복원됩니다.

<!-- GIF 위치: 결과 내보내기 시연 -->
<!-- ![GIF-Demo-5](../resource/demo_05_export.gif) -->

---
## 🔬 AST 분석이란? (What is AST?)

AST는 **Abstract Syntax Tree**의 약자로 추상 구문 트리를 의미합니다.

코드를 단순히 글자의 나열로 보지 않고, 컴파일러처럼 문법 구조(변수 선언, 반복문, 조건문 등)를 파악하여 트리 형태로 표현한 것입니다. 트리의 각 노드는 코드의 구성 요소를 의미합니다.

**COPY_JIKILLER**의 AST 분석 모드는 이 원리를 사용하여, 변수나 함수의 이름, 주석, 공백 등 겉모습은 모두 무시하고 오직 **코드의 핵심적인 로직과 구조 자체**를 비교합니다. 따라서 변수명만 바꾸거나 코드 순서를 일부 섞는 등의 표절 시도를 매우 효과적으로 잡아낼 수 있습니다.

---
## 🛠️ 설치 및 요구사항

### 1. 라이브러리 설치

프로젝트에 필요한 모든 라이브러리를 한 번에 설치하려면, 터미널(명령 프롬프트)에서 프로젝트 최상위 폴더로 이동한 뒤 아래 명령어를 실행하세요.

```bash
pip install -r requirements.txt
```

### 2. C/C++ AST 분석을 위한 추가 설정

`C/C++ (AST)` 분석 모드를 완벽하게 사용하려면, 사용자 PC에 **LLVM/Clang 컴파일러**가 설치되어 있어야 합니다.

1.  **LLVM 설치**: [LLVM 공식 다운로드 페이지](https://github.com/llvm/llvm-project/releases)로 이동하여 운영체제에 맞는 설치 파일을 다운로드하여 실행합니다.
2.  **중요 (Windows)**: 설치 과정 중 **"Add LLVM to the system PATH for all users"** 옵션을 **반드시 체크**해주세요.

---
## 📦 실행 파일 빌드 및 배포

다른 사람에게 쉽게 배포할 수 있도록, 프로젝트를 단일 실행 파일(`.exe`, `.app`)으로 빌드할 수 있습니다.

### 1. 빌드하기

1.  **PyInstaller 설치**: `pip install pyinstaller`
2.  **빌드 명령어 실행**:
    * 터미널에서 프로젝트 최상위 폴더로 이동한 뒤, 자신의 운영체제에 맞는 명령어를 실행합니다.
    * **`--add-data`**: 프로그램 실행에 필요한 모든 리소스(아이콘, 이미지, 가이드 문서 등)를 `.exe` 파일 안에 함께 포함시키는 매우 중요한 옵션입니다.
    * **`--add-binary`**: `libclang` 라이브러리를 포함시켜, 다른 PC에서도 C/C++ AST 분석이 가능하게 합니다.

<br>

#### 🪟 **Windows**
* `libclang.dll` 파일의 경로를 확인합니다. (보통 `C:\Program Files\LLVM\bin\libclang.dll`)
* 아래 명령어에서 경로를 실제 `libclang.dll` 경로로 수정하여 실행합니다.
```bash
pyinstaller --onefile --windowed --name "COPY_JIKILLER" --icon="resource/copy_jikiller.ico" --add-data "resource;resource" --add-data "guide;guide" --add-binary "C:\Program Files\LLVM\bin\libclang.dll;." main.py
```

#### 🍏 **macOS**
* `libclang.dylib` 파일의 경로를 확인합니다. (예: `brew install llvm`으로 설치 시 `/opt/homebrew/lib/libclang.dylib`)
* 아래 명령어에서 경로를 실제 `libclang.dylib` 경로로 수정하여 실행합니다.
```bash
pyinstaller --onefile --windowed --name "COPY_JIKILLER" --icon="resource/copy_jikiller.ico" --add-data "resource:resource" --add-data "guide:guide" --add-binary "/path/to/your/libclang.dylib:." main.py
```

#### 🐧 **Linux**
* `libclang.so` 파일의 경로를 확인합니다. (예: `/usr/lib/x86_64-linux-gnu/libclang.so.1`)
* 아래 명령어에서 경로를 실제 `libclang.so` 경로로 수정하여 실행합니다.
```bash
pyinstaller --onefile --windowed --name "COPY_JIKILLER" --icon="resource/copy_jikiller.ico" --add-data "resource:resource" --add-data "guide:guide" --add-binary "/path/to/your/libclang.so:." main.py
```

### 2. 배포하기

1.  빌드가 성공적으로 완료되면 `dist` 폴더 안에 **`COPY_JIKILLER.exe`** (또는 macOS의 경우 `.app`) 라는 **단일 파일 하나만** 생성됩니다.
2.  이제 다른 사용자에게 프로그램을 전달할 때는, **이 `.exe` 파일 하나만** 보내주시면 됩니다.
3.  사용자는 전달받은 `.exe` 파일을 더블클릭하여 바로 실행할 수 있습니다.

### 3. ⚠️ 문제 해결: 아이콘이 적용되지 않는 경우

빌드된 `.exe` 파일의 아이콘이 작업 표시줄이나 파일 탐색기에서 기본 아이콘으로 보이는 경우, 이는 대부분 Windows의 **아이콘 캐시(Icon Cache)** 문제입니다. 아래 단계에 따라 캐시를 초기화해주세요.

1.  **명령 프롬프트(관리자) 실행**:
    * `Win` 키를 누르고 `cmd`를 입력한 뒤, **'명령 프롬프트'** 앱에 마우스 오른쪽 버튼을 클릭하여 **[관리자 권한으로 실행]**을 선택합니다.

2.  **파일 탐색기(Explorer) 종료**:
    * 관리자 명령 프롬프트 창에 아래 명령어를 입력하고 `Enter` 키를 누릅니다. (바탕화면과 작업 표시줄이 일시적으로 사라집니다.)
    ```bash
    taskkill /f /im explorer.exe
    ```

3.  **아이콘 캐시 파일 삭제**:
    * 이제, 아래 두 개의 명령어를 차례대로 입력하고 `Enter` 키를 누릅니다.
    ```bash
    cd %userprofile%\AppData\Local\Microsoft\Windows\Explorer
    del iconcache* /a
    ```

4.  **파일 탐색기(Explorer) 재시작**:
    * 마지막으로, 아래 명령어를 입력하여 바탕화면과 작업 표시줄을 다시 불러옵니다.
    ```bash
    explorer.exe
    ```
5.  `dist` 폴더로 이동하여 `.exe` 파일의 아이콘이 정상적으로 표시되는지 확인합니다.

---
## 📜 라이선스

이 프로젝트는 [MIT License](../LICENSE)를 따릅니다.
